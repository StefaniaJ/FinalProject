window.addEventListener("DOMContentLoaded",start);const main=document.querySelector("#references-wrapper"),loadingDiv=document.querySelector("#loading-div"),template=document.querySelector("#template-references").content,menu=document.getElementById("buttons-wrapper"),allLink=document.querySelector("#all"),websitesLink=document.querySelector("#websites"),graphicsLink=document.querySelector("#graphics"),article=document.querySelector(".link-btn"),LOADING_IMAGE="images/loading.gif",link="https://spreadsheets.google.com/feeds/list/1Vzl0-Sl0Dr6MCb7fVf9L5azOK9U-ENq57yrIidGFBVg/od6/public/values?alt=json";let loadingIndicator="";function start(){loadJSON(link),setLoading()}function loadJSON(e){setLoading(),fetch(e).then(e=>e.json()).then(e=>e.feed.entry.forEach(showData))}function showData(e){hideLoading();const t=template.cloneNode("true");console.log(e),t.querySelector(".name").textContent=e.gsx$name.$t;const n=e.gsx$image.$t;t.querySelector(".card-img").setAttribute("src","images/"+n),t.querySelector(".link-btn").href=e.gsx$url.$t,t.querySelector(".link-card").href=e.gsx$url.$t,"notdone.html"==e.gsx$url.$t&&(t.querySelector(".link-card").style.cursor="not-allowed",t.querySelector(".middle button").style.cursor="not-allowed",t.querySelector(".link-btn").style.cursor="not-allowed"),main.appendChild(t)}createLoadingIndicator(),websitesLink.addEventListener("click",()=>{main.innerHTML="",loadingDiv.innerHTML="",createLoadingIndicator(),fetch(link).then(e=>e.json()).then(e=>e.feed.entry.filter(e=>"websites"==e.gsx$category.$t).forEach(showData))}),loadJSON(link),graphicsLink.addEventListener("click",()=>{main.innerHTML="",loadingDiv.innerHTML="",createLoadingIndicator(),fetch(link).then(e=>e.json()).then(e=>e.feed.entry.filter(e=>"graphics"==e.gsx$category.$t).forEach(showData))}),allLink.addEventListener("click",()=>{main.innerHTML="",loadingDiv.innerHTML="",createLoadingIndicator(),loadJSON(link)});const items=menu.querySelectorAll(".btn");for(let e=0;e<items.length;e++)items[e].addEventListener("click",function(){let e=document.getElementsByClassName("active");e[0].className=e[0].className.replace(" active",""),this.className+=" active"});function setLoading(){loadingIndicator.style.display="block"}function hideLoading(){loadingIndicator.style.display="none"}function createLoadingIndicator(){let e=document.createElement("img");e.setAttribute("id","loading"),e.src=LOADING_IMAGE,loadingDiv.appendChild(e),loadingIndicator=document.getElementById("loading")}